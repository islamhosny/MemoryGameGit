<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Memory Card Game</title>
  <link rel="icon" href="image/favicon.jpg">

</head>
<body>
  <!--Start Game Interface-->
  <div class="control-buttons">
    <p class="info">Playing memory games can improve other brain functions, such as attention, concentration, and focus. Memory games give space to critical thinking and that helps children nurture their attention to detail. </p>
    <span>Start Game</span>
  </div>
    
  <!--Inforamtion Bar-->
  <div class="info-container">
    <!-- Player Name -->
    <div class="name">
      <b>Player Name </b> <span></span>
    </div>
    <!-- Timer -->
    <div>
      <span id="safeTimerDisplay">00:40</span>
    </div>
    <!-- Wrong Tries Counter -->
    <div class="tries">
      <b>Wrong Tries  </b><span>0</span>
    </div>
  </div>

  <!--Main Game-->
  <div class="memory-game-blocks">
    <!-- 1 Animal Card -->
    <div class="game-block" data-animal="Panda">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Panda.jpg" alt="">
      </div>
    </div>
    <div class="game-block" data-animal="Panda">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Panda.jpg" alt="">
      </div>
    </div>

    <!-- 2 Animal Card -->
    <div class="game-block" data-animal="Bear">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Bear.jpg" alt="">
      </div>
    </div>
    <div class="game-block" data-animal="Bear">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Bear.jpg" alt="">
      </div>
    </div>

    <!-- 3 Animal Card -->
    <div class="game-block" data-animal="Tiger">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Tiger.jpg" alt="">
      </div>
    </div>
    <div class="game-block" data-animal="Tiger">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Tiger.jpg" alt="">
      </div>
    </div>

    <!-- 4 Animal Card -->
    <div class="game-block" data-animal="Cat">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Cat.jpg" alt="">
      </div>
    </div>
    <div class="game-block" data-animal="Cat">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Cat.jpg" alt="">
      </div>
    </div>

    <!-- 5 Animal Card -->
    <div class="game-block" data-animal="Whale">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Whale.jpg" alt="">
      </div>
    </div>
    <div class="game-block" data-animal="Whale">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Whale.jpg" alt="">
      </div>
    </div>

    <!-- 6 Animal Card -->
    <div class="game-block" data-animal="Elephant">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Elephant.jpg" alt="">
      </div>
    </div>
    <div class="game-block" data-animal="Elephant">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Elephant.jpg" alt="">
      </div>
    </div>

    <!-- 7 Animal Card -->
    <div class="game-block" data-animal="Pig">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Pig.jpg" alt="">
      </div>
    </div>
    <div class="game-block" data-animal="Pig">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Pig.jpg" alt="">
      </div>
    </div>

    <!-- 8 Animal Card -->
    <div class="game-block" data-animal="Monkey">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Monkey.jpg" alt="">
      </div>
    </div>
    <div class="game-block" data-animal="Monkey">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Monkey.jpg" alt="">
      </div>
    </div>

    <!-- 9 Animal Card -->
    <div class="game-block" data-animal="Penguin">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Penguin.jpg" alt="">
      </div>
    </div>
    <div class="game-block" data-animal="Penguin">
      <div class="face front"></div>
      <div class="face back">
        <img src="image/Penguin.jpg" alt="">
      </div>
    </div>
  </div>

  <!--Audio-->
  <audio id="success" src="audio/success.wav" preload="auto"></audio>
  <audio id="fail" src="audio/failed.mp3" preload="auto"></audio>
    
  <!--SweetAlert Library-->
  <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <script>
    // Select The Start Game Button
document.querySelector(".control-buttons span").onclick = function () {
    // Prompt Window To Ask For Name
    let yourName = prompt("Whats Your Name?");
    // If Name Is Empty
    if (yourName == null || yourName == "") {
      // Set Name To Unknown
      document.querySelector(".name span").innerHTML = 'Unknown';
    // Name Is Not Empty
    } else {
      // Set Name To Your Name
      document.querySelector(".name span").innerHTML = yourName;
    }
    // Remove Splash Screen
    document.querySelector(".control-buttons").remove();

    // Timer 30 Seconds
    function timer(){
      var sec = 40;
      var timer = setInterval(function(){
          document.getElementById('safeTimerDisplay').innerHTML='00:'+sec;
          sec--;

          if (sec < 0) {
              clearInterval(timer);
              document.querySelector(".memory-game-blocks").style.pointerEvents = "none";

              Swal.fire({
                title: 'Game Over!',
                text: 'The time is out, try again.',
                footer: '<a href="index.html">Start</a>',
                showConfirmButton: false,
                imageUrl: 'image/alert.svg',
                color:'#eae0d7',
                background: 'rgb(201, 88, 23)'
              })
          }
      }, 1000);
  }

  timer();
  };

  //Effect Duration
let duration = 1000;
//Select Blocks Container
let blocksContainer = document.querySelector(".memory-game-blocks");

//Create Array From Game Blocks
//Array Length = 18 Iteams;
let blocks = Array.from(blocksContainer.children);

//Create Range Of Keys
let orderRange = Array.from(Array(blocks.length).keys());
shuffle(orderRange);

//Add Order Css Property To Game Blocks
blocks.forEach((block, index) => {
  // Add CSS Order Property
  block.style.order = orderRange[index];
  // Add Click Event
  block.addEventListener('click', function () {
    // Trigger The Flip Block Function
    flipBlock(block);
  });
  
});
  
//Flip Block Function
function flipBlock(selectedBlock) {
  //Add Class is-flipped
  selectedBlock.classList.add('is-flipped');
  // Collect All Flipped Cards
  let allFlippedBlocks = blocks.filter(flippedBlock => flippedBlock.classList.contains('is-flipped'));
  // If Theres Two Selected Blocks
  if (allFlippedBlocks.length === 2) {
    // Stop Clicking Function
    stopClicking();
    // Check Matched Block Function
    checkMatchedBlocks(allFlippedBlocks[0], allFlippedBlocks[1]);
    }
}
  </script>
</body>
</html>